<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Inventory with Improved CSS</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        /* Đặt CSS với các lớp riêng để tránh xung đột */
        .inventory-form-container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            margin: auto;
        }
        .inventory-form-title {
            text-align: center;
            margin-bottom: 20px;
            font-size: 24px;
            color: #333;
        }
        .inventory-form-group label {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }
        .inventory-form-control {
            border-radius: 8px;
            padding: 12px 16px;
            border: 1px solid #ccc;
            width: 100%;
            margin-bottom: 15px;
            font-size: 16px;
        }
        .inventory-form-btn {
            background-color: #007bff;
            border-color: #007bff;
            border-radius: 8px;
            padding: 10px 20px;
            color: #fff;
            width: 100%;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
        }
        .inventory-form-btn:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }
        .inventory-form-suggestions {
            position: absolute;
            background-color: #fff;
            border: 1px solid #ddd;
            max-height: 150px;
            overflow-y: auto;
            z-index: 1000;
            width: 100%;
            margin-top: 5px;
            border-radius: 5px;
        }
        .inventory-form-suggestion-item {
            padding: 8px 12px;
            cursor: pointer;
            font-size: 16px;
        }
        .inventory-form-suggestion-item:hover {
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <div class="inventory-form-container">
        <h3 class="inventory-form-title">Create Inventory</h3>
        <form action="/submit_inventory" method="POST">
            <!-- Product Search Field -->
            <div class="form-group position-relative inventory-form-group">
                <label for="productSearch">Product Search</label>
                <input type="text" id="productSearch" name="productSearch" class="inventory-form-control" placeholder="Enter product name">
                <input type="hidden" id="productId" name="productId">
                <div id="productSuggestions" class="inventory-form-suggestions"></div>
            </div>

            <!-- Supplier Search Field -->
            <div class="form-group position-relative inventory-form-group">
                <label for="supplierSearch">Supplier Search</label>
                <input type="text" id="supplierSearch" name="supplierSearch" class="inventory-form-control" placeholder="Enter supplier name">
                <input type="hidden" id="supplierId" name="supplierId">
                <div id="supplierSuggestions" class="inventory-form-suggestions"></div>
            </div>

            <!-- Quantity Field -->
            <div class="form-group inventory-form-group">
                <label for="quantity">Quantity</label>
                <input type="number" id="quantity" name="quantity" class="inventory-form-control" placeholder="Enter quantity" min="1">
            </div>

            <!-- Warehouse Field -->
            <div class="form-group inventory-form-group">
                <label for="warehouse">Warehouse</label>
                <input type="text" id="warehouse" name="warehouse" class="inventory-form-control" placeholder="Enter warehouse location">
            </div>

            <!-- Submit Button -->
            <button type="submit" class="inventory-form-btn">Create Inventory</button>
        </form>
    </div>

    <!-- JavaScript for Autocomplete with ID Submission -->
    <script>
        // Sample data with IDs for products and suppliers
        const products = [
            { id: 1, name: "Product A" },
            { id: 2, name: "Product B" },
            { id: 3, name: "Product C" },
            { id: 4, name: "Product D" }
        ];
        const suppliers = [
            { id: 10, name: "Supplier X" },
            { id: 11, name: "Supplier Y" },
            { id: 12, name: "Supplier Z" }
        ];

        // Function to show suggestions with click event to set ID
        function showSuggestions(inputElement, suggestions, suggestionsContainer, hiddenInput) {
            const query = inputElement.value.toLowerCase();
            const filteredSuggestions = suggestions.filter(item => item.name.toLowerCase().includes(query));
            
            // Clear previous suggestions
            suggestionsContainer.innerHTML = "";

            // Display new suggestions
            filteredSuggestions.forEach(item => {
                const suggestionItem = document.createElement("div");
                suggestionItem.classList.add("inventory-form-suggestion-item");
                suggestionItem.textContent = item.name;
                suggestionItem.addEventListener("click", () => {
                    inputElement.value = item.name; // Set input value to name
                    hiddenInput.value = item.id; // Set hidden input value to ID
                    suggestionsContainer.innerHTML = ""; // Clear suggestions after selection
                });
                suggestionsContainer.appendChild(suggestionItem);
            });
        }

        // Event listeners for product search field
        const productSearch = document.getElementById("productSearch");
        const productSuggestions = document.getElementById("productSuggestions");
        const productId = document.getElementById("productId");
        productSearch.addEventListener("input", () => showSuggestions(productSearch, products, productSuggestions, productId));

        // Event listeners for supplier search field
        const supplierSearch = document.getElementById("supplierSearch");
        const supplierSuggestions = document.getElementById("supplierSuggestions");
        const supplierId = document.getElementById("supplierId");
        supplierSearch.addEventListener("input", () => showSuggestions(supplierSearch, suppliers, supplierSuggestions, supplierId));
    </script>
</body>
</html>
